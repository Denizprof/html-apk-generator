<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon TCG Kart Görüntüleyici</title>
    <style>
        /* CSS still remains the same, only changes related to Pokédex button */
        /* ... CSS content omitted for brevity ... */
    </style>
</head>
<body>
    <div class="container">
        <h1>Pokémon TCG Kart Görüntüleyici</h1>
        <input type="text" id="pokemonName" placeholder="Pokémon adını girin">
        <button onclick="searchPokemon()">Kartları Ara</button>
        <button onclick="openPokedex()">Pokédex'e Göz At</button>
        <div id="cardsContainer"></div>
    </div>

    <!-- Modal and other existing HTML content remains the same -->

    <script>
        async function searchPokemon() {
            const pokemonName = document.getElementById('pokemonName').value.trim().toLowerCase();
            const cardsContainer = document.getElementById('cardsContainer');
            cardsContainer.innerHTML = '';

            try {
                const response = await fetch(`https://api.pokemontcg.io/v2/cards?q=name:${pokemonName}`, {
                    headers: {
                        'X-Api-Key': 'fe93b1b4-f70a-4ab6-a6b7-0cb03a685d27'
                    }
                });
                if (!response.ok) {
                    throw new Error('Ağ yanıtı uygun değil');
                }
                const data = await response.json();

                data.data.forEach(card => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'card';
                    cardElement.innerHTML = `
                        <img src="${card.images.large}" alt="${card.name}" onclick="openModal('${card.id}')">
                        <p><strong>Ad:</strong> ${card.name}</p>
                        <p><strong>Set:</strong> ${card.set?.name ?? 'Yok'}</p>
                        <p><strong>Nadirlik:</strong> ${card.rarity ?? 'Yok'}</p>
                        <p><strong>HP:</strong> ${card.hp ?? 'Yok'}</p>
                        <p><strong>Fiyat:</strong> $${card.tcgplayer?.prices.normal?.mid ?? 'Yok'}</p>
                    `;
                    cardsContainer.appendChild(cardElement);
                });

                if (data.data.length === 0) {
                    cardsContainer.innerHTML = '<p>Kart bulunamadı.</p>';
                }
            } catch (error) {
                console.error('Pokémon kartları alınırken hata:', error);
                cardsContainer.innerHTML = `<p>Pokémon kartları alınırken hata oluştu. Lütfen daha sonra tekrar deneyin.</p>`;
            }
        }

        function openPokedex() {
            // Burada Pokédex içeriğini gösterecek kodlar gelecek
            alert('Pokédex gösterme işlemi başlatıldı!');
        }

        function openModal(cardId) {
            // Modal açma işlevi, mevcut kodunuzla aynı kalabilir
            // Gerekirse bu fonksiyonu PokéAPI'den aldığınız verilerle güncelleyebilirsiniz
            alert(`Kart ID: ${cardId} için modal açma işlemi başlatıldı!`);
        }
    </script>
</body>
</html>
